\documentclass[12pt]{article}
\usepackage{setspace}
\doublespacing

\usepackage{amsmath}
\usepackage[margin = 1in]{geometry}
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{natbib}
\usepackage[colorlinks=true, citecolor=blue]{hyperref}

\title{Predicting Diabetes Based on Various Factors Using logistic Regression}
\author{Ashley Merritt\\
    Department of Statistics\\
    University of Connecticut
    }

\begin{document}
\maketitle

\begin{abstract}
This section will be completed once the paper is closer to completion. 
\end{abstract}


\section{Introduction}
\label{sec:intro}
    According to the American Diabetes Association, about 11.3 percent of Americans, or about 37.3 million people, have diabetes.
    Of those 37.3 million people, about 28.7 million were actually diagnosed with diabetes, while the remaining 8.6 million were
    left undiagnosed (\citet{CDC2022Diabetes}). Those left undiagnosed are at risk for even more serious illness if left untreated. 
    Diabetes is a disease where your body does not create enough insulin, or use it properly, in order to get glucose into your cells 
    and use it for energy (\cite{NIH2023Whatis}). Therefore, it is very important that your body has a normal glucose level. In this 
    paper, I will be working to determine the pre-existing factors that can be used in order to predict if a person may have diabetes. 
    Establishing the predictors is very important to me as many of my family members have a long history of suffering from this disease. 
    It is important to better predict this disease to save people from unnecessary suffering. 

    Previously, the prediction of diabetes has been studied using machine learning models. Specifically in Sisodia's paper, it focused
    on the "Prediction of Diabetes using Classification Algorithms", they worked through the topic by producing results using support 
    vector machine, Naive Bayes classifier, and decision tree classifier (\cite{Sisodia2018Prediction}). In this paper, I will be 
    continuing the investigation with a different data set using logistic regression and various other statistical tests.

    In this paper the specific research question that I will be focusing on is: how can we use machine learning models in order to identify 
    individuals that may have already or are at risk at developing diabetes? This will be researched using a data set that contains various 
    metrics on one's health that will be described in the next section of the paper.

    The rest of the paper is organized as follows.
    The data will be presented in Section~\ref{sec:data}.
    The methods are described in Section~\ref{sec:meth}.
    The results are reported in Section~\ref{sec:resu}.
    A discussion concludes in Section~\ref{sec:disc}.

\section{Data}
\label{sec:data}
    In order to study the proposed research question on the topic of diabetes, I searched through many databases in order to find a set 
    that had all of the information I was looking for. After exploration, I found a data set entitled "Healthcare Diabetes Data set" on 
    the website Kaggle. The data set was originally sourced from the National Institute of Diabetes and Digestive and Kidney Diseases. The 
    data encompasses eight different predictors including pregnancies, glucose, blood pressure, skin thickness, insulin, BMI, diabetes 
    pedigree function, and age.

    The predictors listed above will be represented in my research as the following variables. 'Pregnancies' will provide the number of 
    times an entry has been pregnant. 'Glucose' will provide the plasma glucose concentration over two hours using the results of an oral 
    glucose tolerance test on a entry. 'BloodPressure' gives the diastolic blood pressure in mm Hg of an entry. 'SkinThickness' will 
    provide the triceps skin fold thickness in mm. 'Insulin' will include a test on two hour serum insulin in mu U/ml. 'BMI' will provide a 
    calculation of weight (kg) divided by height ($m^2$). 'DiabetesPedigreeFunction' will provide a genetic score of diabetes. 'Age' will 
    simply be the entry's age at the time of the collection. Following this paragraph, I will provide the link to the dataset that I will 
    be using as well as showing some descriptive statistics in Table~\ref{tab:ds} including the mean, standard deviation, and median.  

Dataset link: \href{https://www.kaggle.com/datasets/nanditapore/healthcare-diabetes}{Healthcare Diabetes}

\begin{table}[ht]
    \caption{Descriptive Statistics of Healthcare Diabetes Dataset}
  \label{tab:ds}
\centering
\begin{tabular}{lrrr}
      \hline
    Variable & Mean & SD & Median \\ 
      \hline
      Pregnancies & 3.74 & 3.32 & 3.00 \\ 
      Glucose & 121.10 & 32.04 & 117.00 \\ 
      BloodPressure & 69.13 & 19.23 & 72.00 \\ 
      SkinThickness & 20.82 & 16.06 & 23.00 \\ 
      Insulin & 80.13 & 112.30 & 37.00 \\ 
      BMI & 32.14 & 8.08 & 32.20 \\ 
      DiabetesPedigreeFunction & 0.47 & 0.33 & 0.38 \\ 
      Age & 33.13 & 11.78 & 29.00 \\ 
       \hline
    \end{tabular}
    \end{table}

\section{Methods}
\label{sec:meth}
    Various methods will be used to complete the statistical analysis necessary for this project. I will begin by exploring basic 
    descriptive statistics to gain an understanding of my data set. I will then progress to creating visualizations including histograms 
    and box plots to understand relationships and patterns within my data. In order to draw insight on my data I will perform logistic 
    regression analysis to determine which predictors are significant in predicting if someone has diabetes. In order to perform the 
    logistic regression, I will have to check the necessary assumptions associated with the method. Within this analysis I will perform 
    necessary transformations in order to create the best model that I can. From my results I will draw necessary conclusions about my data.
    
    The first assumption that will be checked in that the dependent variable is binary, this true as our outcome variable is in the form of 
    1 (having diabetes) or 2 (not having diabetes). The next assumption that will be checked is if the observations are independent of each 
    other, this is also true for our data as each predictor is calculated or taken independent of one another. The third assumption that 
    will be checked is that there is no multicollinearity among the independent variables. In order to check this assumption we will 
    calculate the variance inflation factor, VIF, in order to measure the strength of the correlation between predictor variables in our 
    model. One example of this is seen in Table~\ref{tab:vif} where all of the values are around 1, indicating that there is moderate 
    correlation between pregnancies and the other predictors but this value is not in a concerning range. 

\begin{table}[ht]
\caption{VIF Values} 
\label{tab:vif}
\centering
\begin{tabular}{rr}
  \hline
 & vif(lm(P \~{} G + BP + ST + I + BMI + DPF + A)) \\ 
  \hline
Glucose & 1.29 \\ 
  BloodPressure & 1.18 \\ 
  SkinThickness & 1.50 \\ 
  Insulin & 1.44 \\ 
  BMI & 1.30 \\ 
  DiabetesPedigreeFunction & 1.06 \\ 
  Age & 1.18 \\ 
   \hline
\end{tabular}
\end{table}

    After exploring the descriptive statistics, I will begin to perform a logistic regression. Logistic regression, is used to describe the 
    data and the relationship between one dependent variable against many independent variables. In this particular case, we will be looking 
    at the binary response of diabetes with the various independent variables including but not limited to; pregnancies and glucose levels. 
    To begin, I will split the data into a training and a test set. This will be done by setting a random seed of 30 and using 80 percent 
    of the data set in the training set and the remaining 20 percent as the testing set. We will next begin to build the logistic 
    regression model using the training data. 
    
    In Table~\ref{tab:sl} you will see the output of each predictor on predicting the outcome of diabetes. This table will provide us with 
    coefficients, the standard errors, the z-scores, and finally the p-value for each predictor in the model. Based on the output, we can 
    determine that only skin thickness is not statistically significant in predicting if a patient may have diabetes. Therefore, all of the 
    other predictors are statistically significant and should be monitored in predicting diabetes.



\begin{table}[ht]
    \caption{Summary of Logistic Regression Model}
    \label{tab:sl}
\centering
\begin{tabular}{lrrrr}
  \hline
Predictor & Estimate & Std. Error & z value & Pr($>$$|$z$|$) \\ 
  \hline
(Intercept) & -8.02 & 0.41 & -19.73 & 0.00 \\ 
  Pregnancies & 0.11 & 0.02 & 6.04 & 0.00 \\ 
  Glucose & 0.03 & 0.00 & 16.34 & 0.00 \\ 
  BloodPressure & -0.01 & 0.00 & -3.69 & 0.00 \\ 
  SkinThickness & 0.00 & 0.00 & 0.26 & 0.79 \\ 
  Insulin & -0.00 & 0.00 & -2.74 & 0.01 \\ 
  BMI & 0.08 & 0.01 & 9.07 & 0.00 \\ 
  DiabetesPedigreeFunction & 0.76 & 0.17 & 4.38 & 0.00 \\ 
  Age & 0.02 & 0.01 & 3.03 & 0.00 \\ 
   \hline
\end{tabular}
\end{table}
\section{Results}
\label{sec:resu}

After completing our methods section, we can now move on to talk about the results of our model. Based on our logistic regression model, 
we now know that all of the predictors in the data set except skin thickness are important in order to predict whether a patient may have 
diabetes or not. With this information medical professionals will be able to ensure proper treatment to patients as they can use these 
predictors in order to tell if a patient may have diabetes even sooner than typical means. The model allows for medical professionals to 
use the model in order to further their research into diabetes and the various precursors.

\section{Discussion}
\label{sec:disc}

Currently, this study is limited as we are set within the bounds of this data set. In future studies we can include more predictors in 
order to see if there are any other factors that could be used to predict diabetes. As well as having an even larger data set in order to 
ensure our accuracy. Other data sets may suggest that certain predictors are not helpful in predicting diabetes that our model did not pick 
up on due to the metrics of our data. 


As this is a paper dealing with sensitive medical data, we have many limitations in order to be ethical as well as respecting patient 
privacy. Based on the data set collected we should be able to ensure patient privacy pretty well as names or any very unique identifiers 
are not listed with each entry. We simply have a ID and age for each entry so we do not have to worry as much for the sake of privacy. In 
terms of our direct models we may have to disregard some assumptions as they may not fit with real world data. If something unexpected 
happens we may have to reconsider the data set used and consider finding a new one. This will be done by a case by case scenario and will 
be investigated thoroughly before making any decisions.

\bibliography{refs}
\bibliographystyle{mcap}

\end{document}

